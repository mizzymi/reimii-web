<header class="topbar">
  <div class="wrap topbar-inner">
    <a class="brand" routerLink="/" (click)="closeMobile()">
      <span class="brand-mark">
        <img src="/logo-text2.png" alt="Reimii" />
      </span>
    </a>

    <nav class="nav" aria-label="Main navigation">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">{{
        'navBar.home' | transloco
      }}</a>
      <a routerLink="/apps" (click)="closeMobile()" routerLinkActive="active">{{
        'navBar.apps' | transloco
      }}</a>
      <a routerLink="/games" (click)="closeMobile()" routerLinkActive="active">{{
        'navBar.games' | transloco
      }}</a>
      <a routerLink="/studio" (click)="closeMobile()" routerLinkActive="active">{{
        'navBar.about' | transloco
      }}</a>
      <a routerLink="/contact" (click)="closeMobile()" routerLinkActive="active">{{
        'navBar.contact' | transloco
      }}</a>
      <div class="lang">
        <button
          #langBtn
          class="lang-btn"
          type="button"
          (click)="toggleLangMenu()"
          [attr.aria-expanded]="langOpen"
          aria-label="Language"
        >
          <span class="lang-code">{{ activeLang.toUpperCase() }}</span>
          <span class="lang-caret" aria-hidden="true">▾</span>
        </button>

        <div #langMenu class="lang-menu" *ngIf="langOpen">
          <button type="button" class="lang-item" (click)="setLang('es')">ES</button>
          <button type="button" class="lang-item" (click)="setLang('en')">EN</button>
        </div>
      </div>
    </nav>

    <button
      #burgerBtn
      class="burger"
      [class.burger--open]="mobileOpen"
      type="button"
      (click)="toggleMobile()"
      [attr.aria-expanded]="mobileOpen"
      aria-controls="mobileNav"
      aria-label="Open menu"
    >
      <span class="burger-lines" aria-hidden="true"></span>
    </button>
  </div>

  <div
    class="mobile"
    id="mobileNav"
    #mobileNav
    [class.mobile--open]="mobileOpen"
    [attr.aria-hidden]="!mobileOpen"
  >
    <nav class="mobile-nav" aria-label="Mobile navigation">
      <a
        routerLink="/"
        (click)="closeMobile()"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        >{{ 'navBar.home' | transloco }}</a
      >
      <a routerLink="/apps" (click)="closeMobile()" routerLinkActive="active">{{
        'navBar.apps' | transloco
      }}</a>
      <a routerLink="/games" (click)="closeMobile()" routerLinkActive="active">{{
        'navBar.games' | transloco
      }}</a>
      <a routerLink="/studio" (click)="closeMobile()" routerLinkActive="active">{{
        'navBar.about' | transloco
      }}</a>
      <a routerLink="/contact" (click)="closeMobile()" routerLinkActive="active">{{
        'navBar.contact' | transloco
      }}</a>
    </nav>
    <div class="mobile-lang">
      <button type="button" class="mobile-lang-btn" (click)="setLang('es')">
        Español <span *ngIf="activeLang === 'es'">✓</span>
      </button>
      <button type="button" class="mobile-lang-btn" (click)="setLang('en')">
        English <span *ngIf="activeLang === 'en'">✓</span>
      </button>
    </div>
  </div>
</header>

<main class="main">
  <div class="wrap">
    <router-outlet></router-outlet>
  </div>
</main>

<footer class="footer">
  <div class="wrap footer-inner">
    <p class="muted">© {{ year }} Reimii. All rights reserved.</p>
    <div class="footer-links">
      <a class="link" href="https://apps.reimii.com/" aria-label="Privacy and Terms"
        >Privacy and Terms</a
      >
    </div>
  </div>
</footer>
